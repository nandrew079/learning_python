Сложность возникла только в 7 задании, не получилось корректно изменить целую строку и подсчитать количество строк в файле, без полного считывания.
Прошу подсказать решение этих проблем